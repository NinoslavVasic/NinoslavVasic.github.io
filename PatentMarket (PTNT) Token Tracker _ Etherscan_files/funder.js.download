(function () {
  let timeout;

  function init(attempts) {
    clearTimeout(timeout)
    attempts = attempts || 1
    if (attempts > 3) return
    if (typeof CodeFundAd === 'undefined') {
      timeout = setTimeout(function () { init(attempts + 1) }, 350)
      return
    }
    new CodeFundAd({"selector":"#codefund_ad","template":"sponsored-text","theme":"light","fallback":true,"urls":{"impression":"https://codefund.io/display/6861c3c1-58db-4b60-85a4-8925ffa5b747.gif","campaign":"https://codefund.io/impressions/6861c3c1-58db-4b60-85a4-8925ffa5b747/click?campaign_id=924\u0026creative_id=824\u0026property_id=352\u0026template=sponsored-text\u0026theme=light","poweredBy":"https://codefund.io/invite/V2QFXV7_GeA","adblock":"https://cdn2.codefund.app/assets/px.js","uplift":"https://codefund.io/impressions/6861c3c1-58db-4b60-85a4-8925ffa5b747/uplift?advertiser_id=457"},"creative":{"name":"Gitcoin Virtual Hackathons","headline":"Gitcoin Virtual Hackathons-","body":"Earn crypto building OSS. New prizes/webinars every week","cta":"Sign up + learn more","imageUrls":{"icon":"https://cdn2.codefund.io/q1b0k7livca4nv8bd7se3nawmapp","small":"https://cdn2.codefund.io/ah1qitrhcoiuk00ea9d1pqal90wx","large":"https://cdn2.codefund.io/m4f5e2ef5j0duyhf19vf9wplc4uw","wide":"https://cdn2.codefund.io/g5k1ek5c92ziwf2e2n5bgxejdbbj"}}})
  }

  const codefundThemeName = 'light'
  const codefundStylesheetId = 'codefund-style'
  const codefundScriptId = 'codefund-script'

  if (!document.getElementById(codefundStylesheetId) && codefundThemeName !== 'unstyled') {
    const stylesheet = document.createElement('link')
    stylesheet.setAttribute('id', codefundStylesheetId)
    stylesheet.setAttribute('rel', 'stylesheet')
    stylesheet.setAttribute('media', 'all')
    stylesheet.setAttribute('href', 'https://codefund.io/packs/css/code_fund_ad-a345d6c3.css')
    stylesheet.addEventListener('load', init)
    document.head.appendChild(stylesheet)
  }

  if (document.getElementById(codefundScriptId)) {
    init()
  } else {
    const script = document.createElement('script')
    script.setAttribute('id', codefundScriptId)
    script.setAttribute('type', 'text/javascript')
    script.setAttribute('src', 'https://codefund.io/packs/js/code_fund_ad-c5122a9eb2cf2a34fc49.js')
    script.addEventListener('load', init)
    document.head.appendChild(script)
  }
})()
